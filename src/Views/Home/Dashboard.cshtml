@{
    ViewData["Title"] = "Dashboard";
}
<script src="~/js/chart.js"></script>
<canvas id="linechart" style="width: 100%; height: 800px;"></canvas>
@section Scripts {
    <script type="text/javascript">
        $(document).ready(function() {
            $.ajax({
                url: '@Url.Action("DashboardViewData", "Home")',
                method: 'GET',
                headers: {
                    'X-API-KEY': '@HPDQ.WebSupport.Utilities.Globals.APIKey'
                },
                dataType: 'json',
                success: function(response) {
                    console.log('Kết quả:', response);
                    const ctx = document.getElementById('linechart');
                    new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: response.data.labels,
                            datasets: response.data.datasets
                        },
                        options: {
                            responsive: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: 'SỐ LƯỢNG YÊU CẦU PHÁT SINH TRONG THÁNG @System.DateTime.Now.Month'
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    title: {
                                        display: false,
                                        text: 'Số lượng yêu cầu'
                                    }
                                },
                                x: {
                                    title: {
                                        display: false,
                                        text: 'Ngày/tháng'
                                    }
                                }
                            }
                        }
                    });
                },
                error: function(xhr, status, error) {
                    console.error('Lỗi:', error);
                }
            });
        });
    </script>
}